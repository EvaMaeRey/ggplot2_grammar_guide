---
title: "continuous univariate and continuous X discrete"
author: "Gina Reynolds"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "ninjutsu"]
    nature:
      highlightLines: yes
      ratio: '16:9'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
knitr::opts_chunk$set(fig.height = 6, out.width = "100%", comment = " ", cache = T, dpi = 300)
library(flipbookr)
options(scipen = 10)
```


```{r}
library(flipbookr)
library(tidyverse)
library(gapminder)
```



---


```{r prep_data, eval = T, echo = F}
gapminder %>% # data from package
  filter(year == 2002) -> # filtering
gapminder_2002 # saving subset object
gapminder_2002 %>% 
  filter(continent == "Europe") ->
gapminder_2002_europe  
gapminder %>% 
  filter(continent == "Europe") ->
gapminder_europe
gapminder %>% 
  select(country, continent) %>% 
  distinct() %>% 
  group_by(continent) %>% 
  summarise(country_count = n()) ->
continent_aggregate
```



---
name: c

# Continuous Univariate

---

`r chunk_reveal("univariate_continuous_build", widths = c(59, 40))`




```{r, univariate_continuous_build, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>% 
  ggplot() +
  aes(x = lifeExp) +
  theme_minimal() +
  geom_rug(col = "darkgrey") 
```



---

`r chunk_reveal("univariate_continuous", break_type = "rotate", widths = c(59, 40))`




```{r, univariate_continuous, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>% 
  ggplot() +
  aes(x = lifeExp) +
  theme_minimal() +
  geom_rug(col = "darkgrey") +
  geom_histogram(alpha = .5, fill = "cadetblue") + #ROTATE
  geom_freqpoly(linetype = "dashed") + #ROTATE
  geom_dotplot(fill = "blue", alpha = .5) + #ROTATE
  geom_dotplot(binwidth = "dotdensity", alpha = .5) + #ROTATE
  geom_histogram(col = "black", fill = "maroon4", alpha = .4, aes(y = ..density..)) + #ROTATE
  geom_density(linetype = "dotted", adjust = 1/4, size = 1.25) + #ROTATE
  geom_density(linetype = "dashed", adjust = 1/2, size = 1.25) + #ROTATE
  ggalt::geom_bkde(alpha = 0.3 ) + #ROTATE
  ggalt::geom_bkde(alpha = 0.3, bandwidth = .25, aes(fill = continent)) #ROTATE
```


---



---
name: c

# Continuous - Discrete via facetting

---

`r chunk_reveal("geom_discrete_continuous_facet_build", widths = c(59, 40))`


```{r, geom_discrete_continuous_facet_build, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>% 
  ggplot() +
  aes(x = lifeExp) +
  theme_minimal() +
  geom_rug(col = "darkgrey") 
```

---


`r chunk_reveal("geom_discrete_continuous_facet", break_type = "rotate", widths = c(59, 40))`


```{r, geom_discrete_continuous_facet, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>% 
  ggplot() +
  aes(x = lifeExp) +
  theme_minimal() +
  geom_rug(col = "darkgrey") +
  geom_histogram(alpha = .5, fill = "cadetblue") + #ROTATE
  geom_freqpoly(linetype = "dashed") + #ROTATE
  geom_dotplot(fill = "blue", alpha = .5) + #ROTATE
  geom_dotplot(binwidth = "dotdensity", alpha = .5) + #ROTATE
  geom_histogram(col = "black", fill = "maroon4", alpha = .4, aes(y = ..density..)) + #ROTATE
  geom_density(linetype = "dotted", adjust = 1/4, size = 1.25) + #ROTATE
  geom_density(linetype = "dashed", adjust = 1/2, size = 1.25) + #ROTATE
  ggalt::geom_bkde(alpha = 0.3 ) + #ROTATE
  ggalt::geom_bkde(alpha = 0.3, bandwidth = .25, aes(fill = continent)) + #ROTATE
  facet_grid(continent ~ .)
```

---


---
class: inverse, center, middle
name: dc

## Discrete v. Continuous

---


`r chunk_reveal("geom_discrete_continuous_build", widths = c(59, 40))`


```{r geom_discrete_continuous_build, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>%
  mutate(higher_income = gdpPercap > 20000) %>% 
  ggplot() +
  aes(y = fct_rev(continent)) +
  aes(x = lifeExp) +
  geom_point()
```

---


`r chunk_reveal("geom_discrete_continuous", break_type = "rotate", widths = c(59, 40))`


```{r geom_discrete_continuous, eval = F, echo = F}
gapminder %>% 
  filter(year == 2002) %>%
  mutate(higher_income = gdpPercap > 20000) %>% 
  ggplot() +
  aes(y = fct_rev(continent)) +
  aes(x = lifeExp) +
  geom_point() + 
  geom_boxplot(alpha = .1) + #ROTATE
  geom_boxplot(width = .1, outlier.shape = NA, alpha = 0.5) + #ROTATE
  geom_jitter(width = .2, alpha = .5, color = "green") + #ROTATE
  geom_violin(alpha = .1) + #ROTATE
  ggforce::geom_sina(col = "magenta", alpha = .5) + #ROTATE
  stat_summary(fun.y = mean, geom = "point", col = "goldenrod2", size = 8) + #ROTATE
  ggridges::geom_density_ridges(alpha = .2, fill = "blue") + #ROTATE
  ggridges::geom_density_ridges(scale = .7, alpha = .2, fill = "blue") + #ROTATE
  ggridges::geom_density_ridges(scale = 1.5, alpha = .2, fill = "blue") + #ROTATE
  ggridges::geom_density_ridges_gradient(aes(fill = stat(x))) + #ROTATE
  ggridges::stat_density_ridges(quantile_lines = TRUE, quantiles = c(0.025, 0.975), alpha = 0.5, fill = "plum4") + #ROTATE
  ggridges::geom_density_ridges(jittered_points = TRUE, position = "raincloud", alpha = .5, scale = 0.9) + #ROTATE
  ggridges::geom_density_ridges(stat = "binline", bins = 20, scale = 0.95, draw_baseline = FALSE) + #ROTATE
  ggridges::geom_density_ridges(scale = 2, alpha = .5) + #ROTATE
  ggridges::scale_fill_cyclical(values = c("blue", "green")) + #ROTATE
  geom_point(aes(color = continent), position = position_nudge(x = 0, y = .2), size = .5, alpha = 0.8) + geom_boxplot(width = .1, outlier.shape = NA, alpha = 0.5) + #ROTATE
  geom_histogram(aes(y = after_stat(density))) + #ROTATE
  theme_minimal() +
  labs(y = NULL)
```


---

`r chunk_reveal("geom_discrete_continuous_bee", break_type = "rotate", widths = c(59, 40))`

```{r geom_discrete_continuous_bee, include = F}
gapminder %>% 
  mutate(higher_income = gdpPercap > 20000) %>% 
  ggplot() +
  aes(x = continent) +
  aes(y = lifeExp) + 
  aes(alpha = year) +
  ggbeeswarm::geom_quasirandom(aes(x = continent, y = lifeExp)) + #ROTATE
  ggbeeswarm::geom_quasirandom(aes(color = continent)) + #ROTATE
  ggbeeswarm::geom_quasirandom(aes(color = higher_income), dodge.width = .8) #ROTATE
```






```{css, eval = TRUE, echo = F}
.remark-code{line-height: 1.5; font-size: 55%}
```

